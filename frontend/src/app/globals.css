@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Finviz Dark Theme - Complete Design System */

    /* Core Backgrounds */
    --background: 220 16% 16%;       /* #22262f - Main background */
    --background-dark: 225 17% 10%;  /* #14161d - Darkest background */
    --background-secondary: 223 14% 15%; /* #1e2128 - Panel background */
    --foreground: 0 0% 96%;          /* #f3f3f5 - Primary text (Finviz exact) */

    /* Card/Panel */
    --card: 223 14% 12%;             /* #1a1d24 - Card background */
    --card-foreground: 0 0% 96%;

    /* Popover */
    --popover: 220 16% 16%;
    --popover-foreground: 0 0% 96%;

    /* Primary (Blue) */
    --primary: 207 89% 66%;          /* #57aefd - Finviz link blue */
    --primary-foreground: 0 0% 100%;

    /* Secondary */
    --secondary: 222 14% 18%;        /* #262931 */
    --secondary-foreground: 0 0% 96%;

    /* Muted Text Colors */
    --muted: 222 14% 18%;
    --muted-foreground: 224 10% 63%; /* #9ba4b8 - text-muted */
    --muted-2: 224 11% 68%;          /* #a3a8b9 - text-muted-2 */
    --muted-3: 224 14% 24%;          /* #353945 - text-muted-3 */

    /* Accent */
    --accent: 207 89% 66%;           /* #57aefd */
    --accent-foreground: 0 0% 100%;

    /* Success/Positive (Green) */
    --success: 153 100% 32%;         /* #00a449 - Finviz green */
    --success-foreground: 0 0% 100%;
    --success-1: 141 76% 48%;        /* #34c062 - Bright green */
    --success-bg: 147 28% 25%;       /* #1e4027 - Dark green bg */

    /* Destructive/Negative (Red) */
    --destructive: 356 77% 49%;      /* #d91e2b - Finviz red */
    --destructive-foreground: 0 0% 100%;
    --danger-1: 357 96% 65%;         /* #fb5057 - Bright red */
    --danger-bg: 357 28% 20%;        /* #45171a - Dark red bg */

    /* Warning (Amber/Orange) */
    --warning: 38 92% 50%;           /* #f59e0b */
    --warning-foreground: 0 0% 10%;

    /* Borders */
    --border: 222 10% 22%;           /* #2d3139 - Primary border */
    --border-secondary: 222 14% 24%; /* #353945 - Secondary border */
    --border-accent: 224 11% 46%;    /* #676f89 - Accent border */
    --input: 222 10% 22%;
    --ring: 207 89% 66%;

    /* Gray Scale (Finviz exact) */
    --gray-50: 0 0% 96%;             /* #f3f3f5 */
    --gray-100: 0 0% 87%;            /* #dedfe5 */
    --gray-200: 224 8% 77%;          /* #c3c6d0 */
    --gray-300: 224 9% 69%;          /* #a3a8b9 */
    --gray-400: 224 12% 53%;         /* #707990 - Important: muted text */
    --gray-500: 224 14% 40%;         /* #4c5263 */
    --gray-600: 224 14% 32%;         /* #3d4149 */
    --gray-700: 222 14% 24%;         /* #353945 */
    --gray-750: 222 14% 20%;         /* #2d3139 */
    --gray-800: 223 14% 15%;         /* #1e2128 */
    --gray-850: 225 17% 12%;         /* #171a21 */
    --gray-900: 225 17% 10%;         /* #14161d */

    --radius: 0.375rem;
  }
}

@layer base {
  * {
    border-color: hsl(var(--border));
  }

  html {
    color-scheme: dark;
  }

  body {
    background-color: #14161d;
    color: #f3f3f5;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    font-size: 14px;
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Typography */
  h1 { @apply text-2xl font-bold; }
  h2 { @apply text-xl font-semibold; }
  h3 { @apply text-lg font-semibold; }
  h4 { @apply text-base font-medium; }

  /* Links - Finviz blue */
  a {
    color: #57aefd;
  }
  a:hover {
    color: #7bc0ff;
  }

  /* Focus states */
  :focus-visible {
    outline: 2px solid #57aefd;
    outline-offset: 2px;
  }

  /* Scrollbar styling for Finviz dark theme */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: #14161d;
  }

  ::-webkit-scrollbar-thumb {
    background: #2d3139;
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #3d4149;
  }

  /* Selection */
  ::selection {
    background: rgba(87, 174, 253, 0.3);
    color: #ffffff;
  }
}

/* Finviz Components */
@layer components {
  /* Finviz Card/Panel */
  .fv-card {
    @apply bg-[#14161d] rounded-lg border border-[#2d3139];
  }

  /* Finviz Button */
  .fv-button {
    @apply px-4 py-2 rounded-md font-medium text-sm transition-colors;
    @apply bg-[#2d3139] text-white hover:bg-[#3d4149];
  }

  .fv-button-primary {
    @apply bg-[#2f91ef] text-white hover:bg-[#57aefd];
  }

  .fv-button-success {
    @apply bg-[#00a449] text-white hover:bg-[#00c853];
  }

  .fv-button-danger {
    @apply bg-[#d91e2b] text-white hover:bg-[#fb5057];
  }

  /* Finviz Input */
  .fv-input {
    @apply w-full h-10 px-3 rounded-md text-sm transition-colors;
    @apply bg-[#22262f] border border-[#2d3139] text-[#f3f3f5];
    @apply placeholder-[#707990];
    @apply focus:outline-none focus:border-[#57aefd];
  }

  /* Finviz Select */
  .fv-select {
    @apply w-full h-10 px-3 rounded-md text-sm transition-colors cursor-pointer;
    @apply bg-[#22262f] border border-[#2d3139] text-[#f3f3f5];
    @apply focus:outline-none focus:border-[#57aefd];
    @apply appearance-none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%23707990' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    padding-right: 36px;
  }

  /* Finviz Table */
  .fv-table {
    @apply w-full border-collapse;
  }

  .fv-table thead {
    @apply bg-[#1e2128];
  }

  .fv-table th {
    @apply px-3 py-2 text-left text-xs font-semibold text-[#9ba4b8] uppercase tracking-wide;
    @apply border-b border-[#2d3139];
  }

  .fv-table td {
    @apply px-3 py-2.5 text-sm text-[#f3f3f5];
    @apply border-b border-[#2d3139];
  }

  .fv-table tbody tr {
    @apply transition-colors;
  }

  .fv-table tbody tr:hover {
    @apply bg-[#1e2128];
  }

  .fv-table tbody tr:nth-child(even) {
    @apply bg-[#171a21]/50;
  }

  /* Finviz Badge */
  .fv-badge {
    @apply inline-flex items-center px-2 py-0.5 rounded text-xs font-medium;
  }

  .fv-badge-success {
    @apply bg-[#00a449]/20 text-[#00a449];
  }

  .fv-badge-danger {
    @apply bg-[#d91e2b]/20 text-[#fb5057];
  }

  .fv-badge-warning {
    @apply bg-[#f59e0b]/20 text-[#f59e0b];
  }

  .fv-badge-info {
    @apply bg-[#57aefd]/20 text-[#57aefd];
  }

  .fv-badge-neutral {
    @apply bg-[#4c5263] text-[#c3c6d0];
  }

  /* Finviz Tab */
  .fv-tab {
    @apply px-3 py-2 text-sm font-medium transition-colors cursor-pointer;
    @apply text-[#707990] hover:text-[#f3f3f5];
    @apply border-b-2 border-transparent;
  }

  .fv-tab.is-active {
    @apply text-[#57aefd] border-[#57aefd];
  }

  /* Finviz Label */
  .fv-label {
    @apply block text-xs font-medium text-[#9ba4b8] uppercase tracking-wide mb-1.5;
  }
}

/* Finviz utility classes */
@layer utilities {
  /* Text Colors */
  .text-profit {
    color: #00a449;
  }

  .text-loss {
    color: #d91e2b;
  }

  .text-muted {
    color: #707990;
  }

  .text-muted-2 {
    color: #9ba4b8;
  }

  .text-link {
    color: #57aefd;
  }

  /* Background Colors */
  .bg-profit {
    background-color: #00a449;
  }

  .bg-loss {
    background-color: #d91e2b;
  }

  .bg-profit-subtle {
    background-color: rgba(0, 164, 73, 0.15);
  }

  .bg-loss-subtle {
    background-color: rgba(217, 30, 43, 0.15);
  }

  /* Gray backgrounds */
  .bg-gray-750 {
    background-color: #2d3139;
  }

  .bg-gray-800 {
    background-color: #1e2128;
  }

  .bg-gray-850 {
    background-color: #171a21;
  }

  .bg-gray-900 {
    background-color: #14161d;
  }

  /* Border colors */
  .border-gray-750 {
    border-color: #2d3139;
  }

  .border-gray-800 {
    border-color: #1e2128;
  }

  /* Text size - extra small like Finviz */
  .text-2xs {
    font-size: 0.625rem;
    line-height: 0.875rem;
  }

  /* Finviz status dots */
  .status-dot {
    @apply w-2 h-2 rounded-full;
  }

  .status-dot-success {
    @apply bg-[#00a449];
  }

  .status-dot-danger {
    @apply bg-[#d91e2b];
  }

  .status-dot-warning {
    @apply bg-[#f59e0b];
  }

  /* Finviz number formatting */
  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }
}
